{"version":3,"file":"commonHelpers2.js","sources":["../src/js/http.js"],"sourcesContent":["/* Fetch */\n// const options = {\n//   method: 'GET',\n// };\n\n// fetch('https://rickandmortyapi.com/api/character', options)\n//   .then(res => {\n//     if (!res.ok) {\n//       throw new Error(res.statusText);\n//     }\n//     return res.json();\n//   })\n//   .then(data => {\n//     console.log(data);\n//   })\n//   .catch(err => {\n//     console.log(err);\n//   });\n\n/* Задача */\n\nconst elements = {\n  searchForm: document.querySelector('.js-search-form'),\n  list: document.querySelector('.js-list'),\n};\n\nelements.searchForm.addEventListener('submit', handlerSearch);\n\nfunction handlerSearch(evt) {\n  evt.preventDefault();\n  const { city, days } = evt.currentTarget.elements;\n\n  serviceWeather(city.value, days.value)\n    .then(data => {\n      elements.list.innerHTML = createMarkup(data.forecast.forecastday);\n    })\n    .catch(err => {\n      console.log(err);\n    });\n}\n\nfunction serviceWeather(city, days) {\n  const BASE_URL = 'http://api.weatherapi.com/v1';\n  const END_POINT = '/forecast.json';\n  const API_KEY = 'cb71863de576474e981155338241604';\n\n  const params = new URLSearchParams({\n    key: API_KEY,\n    q: city,\n    days: days,\n    lang: 'uk',\n  });\n\n  return fetch(`${BASE_URL}${END_POINT}?${params}`).then(resp => {\n    if (!resp.ok) {\n      throw new Error(resp.statusText);\n    }\n    return resp.json();\n  });\n}\n\nfunction createMarkup(arr) {\n  return arr\n    .map(\n      ({\n        date,\n        day: {\n          avgtemp_c,\n          condition: { icon, text },\n        },\n      }) => `<li class=\"weather-card\">\n        <img src=\"${icon}\" alt=\"${text}\" />\n        <h2 class=\"date\">${date}</h2>\n        <h3 class=\"weather-text\">${text}</h3>\n        <h3 class=\"temperature\">${avgtemp_c} °C</h3>\n      </li>`\n    )\n    .join('');\n}\n"],"names":["elements","handlerSearch","evt","city","days","serviceWeather","data","createMarkup","err","BASE_URL","END_POINT","API_KEY","params","resp","arr","date","avgtemp_c","icon","text"],"mappings":"oCAqBA,MAAMA,EAAW,CACf,WAAY,SAAS,cAAc,iBAAiB,EACpD,KAAM,SAAS,cAAc,UAAU,CACzC,EAEAA,EAAS,WAAW,iBAAiB,SAAUC,CAAa,EAE5D,SAASA,EAAcC,EAAK,CAC1BA,EAAI,eAAc,EAClB,KAAM,CAAE,KAAAC,EAAM,KAAAC,CAAI,EAAKF,EAAI,cAAc,SAEzCG,EAAeF,EAAK,MAAOC,EAAK,KAAK,EAClC,KAAKE,GAAQ,CACZN,EAAS,KAAK,UAAYO,EAAaD,EAAK,SAAS,WAAW,CACtE,CAAK,EACA,MAAME,GAAO,CACZ,QAAQ,IAAIA,CAAG,CACrB,CAAK,CACL,CAEA,SAASH,EAAeF,EAAMC,EAAM,CAClC,MAAMK,EAAW,+BACXC,EAAY,iBACZC,EAAU,kCAEVC,EAAS,IAAI,gBAAgB,CACjC,IAAKD,EACL,EAAGR,EACH,KAAMC,EACN,KAAM,IACV,CAAG,EAED,OAAO,MAAM,GAAGK,CAAQ,GAAGC,CAAS,IAAIE,CAAM,EAAE,EAAE,KAAKC,GAAQ,CAC7D,GAAI,CAACA,EAAK,GACR,MAAM,IAAI,MAAMA,EAAK,UAAU,EAEjC,OAAOA,EAAK,MAChB,CAAG,CACH,CAEA,SAASN,EAAaO,EAAK,CACzB,OAAOA,EACJ,IACC,CAAC,CACC,KAAAC,EACA,IAAK,CACH,UAAAC,EACA,UAAW,CAAE,KAAAC,EAAM,KAAAC,CAAM,CAC1B,CACT,IAAY;AAAA,oBACQD,CAAI,UAAUC,CAAI;AAAA,2BACXH,CAAI;AAAA,mCACIG,CAAI;AAAA,kCACLF,CAAS;AAAA,YAEtC,EACA,KAAK,EAAE,CACZ"}